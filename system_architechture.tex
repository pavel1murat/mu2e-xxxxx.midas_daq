\section{System architecture}

The central part of the system is an online database (ODB)
implemented vis a shared memory segment

ODB stores all information about the running system -
the system configuration, status.

ODB has web-based interface, command line interface

Restricted functionality web server (MHTTPD) connects clients
to ODB. The web server doesn't execute applications, instead,
it simply updates the ODB.

Clients: frontends, communicating with the hardware and other
parts of the system.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Frontends}

MIDAS supports frontends of different types, which include the data readout and monitoring
frontends.

MIDAS event building functionality is not used , done by ARTDAQ.

The architecture of the Mu2e DAQ requires only monitoring and slow control frontends.
All high bandwidth traffic goes through ARTDAQ.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Interprocess communication} 

Two mechanisms
\begin{itemize}
\item
  via ODB : some clients write into ODB, others read
\item
  separate collection of the monitoring information and its visualization
\item
  messaging: jsonrpc. Each client can have a jsonrpc server and receive messages
  from any other client.
\item
  clients can broadcast messages to the system (info and alarm)
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Slow monitoring} 

Two mechanisms
\begin{itemize}
\item
  one monitoring frontend per node 
\item
  monitors DTCs, ROCs, and separate collection of the monitoring information and its visualization
\item
  messaging: jsonrpc. Each client can have a jsonrpc server and receive messages
  from any other client.
\item
  clients can broadcast messages to the system (info and alarm)
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Alarm system}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\subsection{Javascript web interface}

\begin{itemize}
\item 
  MIDAS web interface is a combination of HTML+Javascript.
\item 
  MIDAS provides Javascript API to ODB, which facilitates development of
  functional experiment-specific web pages.
\end{itemize}





%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:


